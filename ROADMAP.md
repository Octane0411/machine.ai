# CS Player Guessing AI Agent - Development Roadmap

## 项目概述

开发一个针对CS选手猜测游戏的先进AI智能体，目标是达到该领域的SOTA性能。项目采用混合开发策略：前期使用免费开源API快速原型开发，后期基于RTX 4070Ti进行模型微调和优化。

## 开发阶段

### 🚀 **阶段1: 项目基础设施** (1-2周)
**状态**: ✅ 已完成 (核心功能) / 🔄 下载中 (依赖包)
**目标**: 建立完整的开发环境和游戏引擎

#### 具体任务:
- [x] **项目结构搭建**
  ```
  machine.ai/
  ├── src/
  │   ├── game/          # 游戏引擎 ✅
  │   ├── agents/        # AI智能体
  │   ├── data/          # 数据处理
  │   └── utils/         # 工具函数
  ├── tests/             # 测试套件 ✅
  ├── experiments/       # 实验脚本
  └── configs/           # 配置文件
  ```

- [x] **游戏引擎开发**
  - [x] 实现6维度反馈系统 (name, team, nationality, age, role, major_appearances)
  - [x] 游戏状态管理和规则验证
  - [x] 玩家数据库接口 (基于现有players.csv)
  - [x] 基础CLI游戏界面

- [x] **开发环境配置**
  - [x] Ollama本地安装 (正在下载Llama 3 8B)
  - [x] 依赖管理 (使用uv现代包管理器)
  - [x] 测试框架搭建 (pytest)
  - [ ] 代码规范和格式化工具

#### 交付物:
- [x] 完整的项目结构
- [x] 可运行的游戏模拟器
- [x] 基础测试套件
- [x] Ollama + Llama 3环境 (下载中)

---

### 🧠 **阶段2: API原型智能体** (2-3周)
**状态**: ⏳ 待开始
**目标**: 开发基于免费API的智能体原型

#### 具体任务:
- [ ] **API集成开发**
  - [ ] Ollama本地API集成 (主要)
  - [ ] Groq API集成 (性能测试)
  - [ ] Together AI API集成 (备用)
  - [ ] 统一的API调用接口

- [ ] **策略智能体实现**
  - [ ] 信息论方法 (熵计算和信息增益)
  - [ ] 启发式策略 (热门选手优先、维度权重)
  - [ ] 约束满足算法 (基于反馈历史筛选)
  - [ ] 多步规划逻辑

- [ ] **解释系统开发**
  - [ ] 推理过程可视化
  - [ ] 决策解释生成
  - [ ] 策略权重追踪
  - [ ] 调试和分析工具

#### 交付物:
- [ ] 可运行的API智能体
- [ ] 多种策略实现
- [ ] 性能评估工具
- [ ] 基线性能数据

---

### 🎯 **阶段3: 性能优化与评估** (1-2周)
**状态**: ⏳ 待开始
**目标**: 优化API智能体性能，建立评估基准

#### 具体任务:
- [ ] **策略调优**
  - [ ] A/B测试不同策略组合
  - [ ] 参数网格搜索优化
  - [ ] 难度级别适配
  - [ ] 性能瓶颈分析

- [ ] **评估体系建立**
  - [ ] 标准测试集创建
  - [ ] 性能指标定义 (平均猜测次数、成功率等)
  - [ ] 人类基线对比
  - [ ] 自动化评估流水线

- [ ] **数据收集准备**
  - [ ] API智能体游戏日志收集
  - [ ] 训练数据格式设计
  - [ ] 质量评估和过滤
  - [ ] 微调数据准备

#### 交付物:
- [ ] 优化后的API智能体
- [ ] 完整的评估体系
- [ ] 高质量训练数据集
- [ ] 性能基准报告

---

### 🔧 **阶段4: 本地模型微调** (2-3周)
**状态**: ⏳ 待开始
**目标**: 在RTX 4070Ti上微调Llama 3 8B模型

#### 具体任务:
- [ ] **微调环境搭建**
  - [ ] RTX 4070Ti优化配置
  - [ ] LoRA微调框架搭建
  - [ ] 内存优化和量化设置
  - [ ] 训练监控工具

- [ ] **模型训练**
  - [ ] 基于API智能体数据的监督微调
  - [ ] 强化学习自我改进
  - [ ] 超参数调优
  - [ ] 训练过程监控

- [ ] **性能对比验证**
  - [ ] API版本 vs 微调版本对比
  - [ ] 推理速度和质量评估
  - [ ] 成本效益分析
  - [ ] 部署优化

#### 交付物:
- [ ] 微调后的Llama 3模型
- [ ] 本地推理服务
- [ ] 性能对比报告
- [ ] 部署文档

---

### 🏆 **阶段5: SOTA优化与发布** (1-2周)
**状态**: ⏳ 待开始
**目标**: 实现领域SOTA性能并准备发布

#### 具体任务:
- [ ] **高级策略实现**
  - [ ] 集成方法 (多智能体协作)
  - [ ] 元学习能力
  - [ ] 对抗训练
  - [ ] 鲁棒性提升

- [ ] **最终优化**
  - [ ] 端到端性能调优
  - [ ] 用户体验优化
  - [ ] 错误处理和边界情况
  - [ ] 文档完善

- [ ] **验证和发布**
  - [ ] 全面性能测试
  - [ ] 人类专家验证
  - [ ] 开源代码准备
  - [ ] 研究论文撰写

#### 交付物:
- [ ] SOTA性能的CS选手猜测AI
- [ ] 完整的开源项目
- [ ] 技术文档和论文
- [ ] 演示和评估报告

## 📊 里程碑检查点

| 阶段 | 时间 | 关键指标 | 成功标准 | 状态 |
|------|------|----------|----------|------|
| 阶段1 | 1-2周 | 项目搭建完成度 | 游戏引擎可运行，API环境就绪 | 🔄 90%完成 |
| 阶段2 | 2-3周 | API智能体性能 | 中等难度平均<6次猜测 | ⏳ 待开始 |
| 阶段3 | 1-2周 | 优化效果 | 中等难度平均<5次猜测 | ⏳ 待开始 |
| 阶段4 | 2-3周 | 微调效果 | 比API版本提升10%+ | ⏳ 待开始 |
| 阶段5 | 1-2周 | SOTA达成 | 中等难度平均<4次猜测 | ⏳ 待开始 |

## 🛠️ 技术栈

### 开发工具
- **语言**: Python 3.8+
- **AI框架**: Transformers, PyTorch
- **API集成**: Ollama, Groq, Together AI
- **微调**: LoRA, bitsandbytes
- **测试**: pytest
- **数据**: pandas, numpy

### 硬件要求
- **开发**: 任意现代CPU (API阶段)
- **微调**: RTX 4070Ti 12GB VRAM
- **备用**: Google Colab Pro+, AWS/GCP

### 模型选择
- **API阶段**: Llama 3 8B (Ollama本地 + Groq/Together备用)
- **微调阶段**: Llama 3 8B (本地LoRA微调)
- **部署**: 微调后的Llama 3 8B

## 📈 性能目标递进

- **阶段2**: 中等难度平均<6次猜测 (API基线)
- **阶段3**: 中等难度平均<5次猜测 (优化后)
- **阶段4**: 比API版本提升10%+ (微调效果)
- **阶段5**: 中等难度平均<4次猜测 (SOTA目标)

## 🎮 当前状态

**当前阶段**: 准备开始阶段1
**下一步行动**: 项目基础设施搭建
- 创建项目目录结构
- 实现基础游戏引擎
- 配置Ollama + Llama 3环境
- 建立开发和测试流程

## 📝 更新日志

- **2026-01-09**: 创建项目roadmap，定义5个开发阶段
- **2026-01-09**: 确定技术栈：Llama 3 + Ollama + RTX 4070Ti微调
- **2026-01-09**: 完成数据收集，202+选手数据就绪
- **2026-01-09**: ✅ 完成阶段1核心开发
  - 使用uv现代包管理器搭建项目结构
  - 实现完整6维度反馈系统 (✅❌⬆️⬇️)
  - 创建游戏引擎、玩家数据库、CLI界面
  - 建立pytest测试框架
  - 核心游戏逻辑测试通过 (standalone测试)

---

**注意**: 这个roadmap会随着项目进展持续更新。每完成一个任务或里程碑，请及时更新状态和进度。